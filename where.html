<!DOCTYPE html>
<html>
  <head>
    <style>
      #map {
        width: 500px;
        height: 400px;
        background-color: #CCC;
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js"></script>
    <script>
      function putOnMap() {
        var mapCanvas = document.getElementById('map');
        var mapOptions = {
          center: new google.maps.LatLng(-33.9137105,17.4075679),
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        var map = new google.maps.Map(mapCanvas, mapOptions);
        var companyPos = new google.maps.LatLng(-33.9069389, 18.4189952);
        var companyMarker = new google.maps.Marker({
            position: companyPos,
            map: map,
            title:"Some title"
        });
      }
      // google.maps.event.addDomListener(window, 'load', initialize);
    </script>


  </head>
  <body>
    <h1>Location</h1>

    <!--Getting the first location -->
    <button id="locationButton1" type="button" name="button">Get Location 1</button> <br>
    <div id="location1">
      <input id="latitude1" >
      <input id="longitude1">
    </div><br>

    <!--  -->
    <button id="locationButton2" type="button" name="button">Get Location 2</button> <br>
    <div id="location2">
      <input id="latitude2" >
      <input id="longitude2" >
    </div><br>

    <!--Calculating the distance between location1 and location2 -->
    <button id="calculateButton" type="button" name="button">Calculate Distance</button>
    <div>
      <input id="calculateDistance" name="name" value="">
    </div><br>

    <button id="clearButton" type="button" name="button">Clear Information</button> <br><br>
    <button id="putOnMap" type="button" name="button">Put location on map</button>
    <div id="map">

    </div>
  </body>

  <script type="text/javascript" src="geolib.min.js"></script>
  <script type="text/javascript">
    var dispalyButton1 = document.getElementById('locationButton1')
    var dispalyButton2 = document.getElementById('locationButton2')
    var clearButton = document.getElementById('clearButton')

    dispalyButton1.addEventListener('click', function() {
      navigator.geolocation.getCurrentPosition(function(location1) {
        var longitude1 = document.getElementById('longitude1');
        var latitude1 = document.getElementById('latitude1');

        latitude1.value = location1.coords.latitude;
        longitude1.value = location1.coords.longitude;
      });
    })

    dispalyButton2.addEventListener('click', function() {
      navigator.geolocation.getCurrentPosition(function(location2) {
        var longitude2 = document.getElementById('longitude2');
        var latitude2 = document.getElementById('latitude2');
        var loc = document.getElementById('location2');

        latitude2.value = location2.coords.latitude;
        longitude2.value = location2.coords.longitude;

      });
    })

    calculateButton.addEventListener('click', function() {
      var distanceButton = document.getElementById('calculateButton');
      var latitude1 = document.getElementById('latitude1');
      var longitude1 = document.getElementById('longitude1');
      var latitude2 = document.getElementById('latitude2');
      var longitude2 = document.getElementById('longitude2');

      var distance = geolib.getDistance(
      {latitude: latitude1.value, longitude: longitude1.value},
      {latitude: latitude2.value, longitude: longitude2.value}
      );

      document.getElementById('calculateDistance').value = distance;
    });

    clearButton.addEventListener('click', function() {
      var longitude1 = document.getElementById('longitude1');
      var latitude1 = document.getElementById('latitude1');

      longitude1.value = "";
      latitude1.value = "";

      var longitude2 = document.getElementById('longitude2');
      var latitude2 = document.getElementById('latitude2');

      longitude2.value = "";
      latitude2.value = "";

      var distance = document.getElementById('calculateDistance');
      distance.value = "";
    })
  </script>
</html>
